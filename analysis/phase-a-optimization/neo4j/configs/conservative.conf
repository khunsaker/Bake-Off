# Neo4j Conservative Configuration
# Shark Bake-Off: Conservative Optimization Variant
# Target: 16GB RAM, 8-core CPU, production-safe settings

# ============================================================================
# MEMORY SETTINGS (CONSERVATIVE)
# ============================================================================

# Java Heap (12.5% of RAM for 16GB system - more conservative)
dbms.memory.heap.initial_size=2G
dbms.memory.heap.max_size=2G

# Page Cache (37.5% of RAM for 16GB system)
dbms.memory.pagecache.size=6G

# Transaction Memory
dbms.memory.transaction.total.max=4G

# ============================================================================
# QUERY OPTIMIZATION
# ============================================================================

# Query Cache (moderate size)
dbms.query_cache_size=5000

# ============================================================================
# CONCURRENCY
# ============================================================================

# Bolt worker threads (CPU cores)
dbms.threads.worker_count=8

# ============================================================================
# CONNECTION MANAGEMENT
# ============================================================================

# Bolt connector
dbms.connector.bolt.enabled=true
dbms.connector.bolt.listen_address=0.0.0.0:7687

# HTTP connector
dbms.connector.http.enabled=true
dbms.connector.http.listen_address=0.0.0.0:7474

# ============================================================================
# TRANSACTION LOG
# ============================================================================

# Transaction log rotation (more frequent for safety)
dbms.tx_log.rotation.size=512M

# Checkpoint interval
dbms.checkpoint.interval.time=15m

# ============================================================================
# TIMEOUTS
# ============================================================================

# Transaction timeout
dbms.transaction.timeout=120s

# Lock acquisition timeout
dbms.lock.acquisition.timeout=30s

# ============================================================================
# LOGGING
# ============================================================================

# Query logging (enabled but with reasonable threshold)
dbms.logs.query.enabled=true
dbms.logs.query.threshold=1000ms

# Log level
dbms.logs.debug.level=INFO

# ============================================================================
# SECURITY
# ============================================================================

# Authentication
dbms.security.auth_enabled=true

# ============================================================================
# PERFORMANCE
# ============================================================================

# Enable metrics
metrics.enabled=true
